<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SellPhoneApplication.View.PhonesPage"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:shared="clr-namespace:SellPhoneApplication.Shared">

    <Grid ColumnSpacing="10" RowSpacing="0" Padding="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!-- Header -->
            <RowDefinition Height="*" />
            <!-- Content -->
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250" />
            <!-- Sidebar -->
            <ColumnDefinition Width="*" />
            <!-- Main Content -->
        </Grid.ColumnDefinitions>

        <!-- HEADER -->
        <shared:HeaderView Grid.Row="0" Grid.ColumnSpan="2"/>

        <!-- SIDEBAR FILTER -->
        <ScrollView Grid.Row="1" Grid.Column="0">
            <VerticalStackLayout Spacing="15" Padding="10">
                <Grid ColumnDefinitions="*,Auto" Padding="10,0" RowDefinitions="Auto">
  
                <Label Text="Bộ lọc" TextColor="#212121" FontSize="22" FontAttributes="Bold" 
                       Grid.Column="0" HorizontalOptions="Start"/>
    

                <Image Source="filter.png" HeightRequest="20" 
                        Grid.Column="1" HorizontalOptions="End"/>
                </Grid>
                <BoxView HeightRequest="1" BackgroundColor="#D3D3D3" Margin="0,5" />


                <!-- Giá -->
                <Label Text="Giá" FontAttributes="Bold" FontSize="14" />
                <VerticalStackLayout Padding="10,0" Spacing="6">
                    <Label Text="0đ - 30.000.000đ" FontSize="14" />
                    <Slider Minimum="0" Maximum="30000" Value="15000" />
                </VerticalStackLayout>

                <BoxView HeightRequest="1" BackgroundColor="#D3D3D3" Margin="0,5" />

                <!-- Màu sắc -->
                <Label Text="Màu sắc" FontAttributes="Bold" FontSize="14" />
                <HorizontalStackLayout Padding="10,0" Spacing="8">
                    <BoxView WidthRequest="24" HeightRequest="24" BackgroundColor="Black" CornerRadius="12" />
                    <BoxView WidthRequest="24" HeightRequest="24" BackgroundColor="Red" CornerRadius="12" />
                    <BoxView WidthRequest="24" HeightRequest="24" BackgroundColor="Blue" CornerRadius="12" />
                    <BoxView WidthRequest="24" HeightRequest="24" BackgroundColor="Pink" CornerRadius="12" />
                </HorizontalStackLayout>

                <BoxView HeightRequest="1" BackgroundColor="#D3D3D3" Margin="0,5" />
                
                <!-- Bộ nhớ -->
                <Label Text="Bộ nhớ" FontAttributes="Bold" FontSize="14" />
                <VerticalStackLayout Padding="10,0" Spacing="0">
                    <HorizontalStackLayout Spacing="6">
                        <CheckBox />
                        <Label Text="64 GB" VerticalOptions="Center" FontSize="14" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout Spacing="6">
                        <CheckBox />
                        <Label Text="128 GB" VerticalOptions="Center" FontSize="14" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout Spacing="6">
                        <CheckBox />
                        <Label Text="256 GB" VerticalOptions="Center" FontSize="14" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout Spacing="6">
                        <CheckBox />
                        <Label Text="512 GB" VerticalOptions="Center" FontSize="14" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>


                <BoxView HeightRequest="1" BackgroundColor="#D3D3D3" Margin="0,5" />

                <!-- Thương hiệu -->
                <Label Text="Thương hiệu" FontAttributes="Bold" FontSize="14" />
                <VerticalStackLayout Padding="10,0" Spacing="0">
                    <HorizontalStackLayout Spacing="6">
                        <CheckBox />
                        <Label Text="Apple" VerticalOptions="Center" FontSize="14" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout Spacing="6">
                        <CheckBox />
                        <Label Text="Samsung" VerticalOptions="Center" FontSize="14" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout Spacing="6">
                        <CheckBox />
                        <Label Text="Xiaomi" VerticalOptions="Center" FontSize="14" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout Spacing="6">
                        <CheckBox />
                        <Label Text="Huawei" VerticalOptions="Center" FontSize="14" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>

                <Button Text="Áp dụng bộ lọc" BackgroundColor="#000" TextColor="White" />
            </VerticalStackLayout>
        </ScrollView>

        <!-- PRODUCT GRID -->
        <ScrollView Grid.Row="1" Grid.Column="1">
            <VerticalStackLayout  Spacing="10">
            <Grid ColumnDefinitions="*,Auto" Padding="0,10,15,10" RowDefinitions="Auto">
              
                <Label Text="Danh mục điện thoại" TextColor="#212121" FontSize="22" FontAttributes="Bold" 
                   Grid.Column="0" HorizontalOptions="Start"/>

                <Picker
                    WidthRequest="140"
                   
                    Grid.Column="1"
                    HorizontalOptions="End"
                    VerticalOptions="Center">
                    <Picker.Items>
                        <x:String>Phổ biến</x:String>
                        <x:String>Giá: Thấp → Cao</x:String>
                        <x:String>Giá: Cao → Thấp</x:String>
                    </Picker.Items>
                </Picker>
            </Grid>



            <CollectionView
                ItemsSource="{Binding Phones}"
                SelectionMode="None">
                        <CollectionView.ItemsLayout>
                            <GridItemsLayout
                    Span="3"
                    Orientation="Vertical"
                    HorizontalItemSpacing="10"
                    VerticalItemSpacing="20" />
                        </CollectionView.ItemsLayout>
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                            <Frame
                              BackgroundColor="White"
                              BorderColor="#F1F1F1"
                              CornerRadius="6"
                                HeightRequest="400"
                              Padding="12"
                              HasShadow="False"
                              
                              Margin="6">
                            <VerticalStackLayout Spacing="6">

                                <!-- 1. Ảnh điện thoại -->
                                <Image
                                    Source="{Binding ImageUrl}"
                                    HeightRequest="244"
                                    Aspect="AspectFill" />

                                <!-- 2. Tên điện thoại -->
                                <Label
                                  Text="{Binding Name}"
                                  FontAttributes="Bold"
                                  LineBreakMode="TailTruncation"
                                  TextColor="#444444"
                                  FontSize="16" />

                                                <!-- 3. Giá -->
                                <Label
                                  Text="{Binding Price, StringFormat='Giá: {0:N0} đ'}"
                                  FontAttributes="Bold"
                                  FontSize="14"
                                  TextColor="#D70020" />

     
                                <HorizontalStackLayout Spacing="5">
                                    <Image Source="heart.png" WidthRequest="16" HeightRequest="16" />
                                    <Label Text="Yêu thích" FontSize="14"/>
                                </HorizontalStackLayout>
                                
                                <Button Text="Thêm vào giỏ hàng" />
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
            
        </VerticalStackLayout>
       </ScrollView>
    </Grid>
</ContentPage>
